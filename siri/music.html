<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>음악 웹사이트</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #333;
            color: white;
            padding: 20px;
            text-align: center;
        }
        main {
            padding: 20px;
        }
        .album {
            display: flex;
            margin-bottom: 20px;
        }
        .album img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-right: 20px;
        }
        .lyrics {
            white-space: pre-line;
        }
    </style>
</head>
<body>
    <header>
        <h1>음악 웹사이트</h1>
    </header>
    <main>
        <div class="album">
            <img id="albumArt" src="" alt="Album Art">
            <div>
                <h2 id="songTitle"></h2>
                <p id="artistName"></p>
                <audio id="audioPlayer" controls>
                    <source src="" type="audio/mp4">
                </audio>
            </div>
        </div>
        <div class="lyrics" id="lyrics"></div>
    </main>

    <script>
        // 음악 및 가사 파일 경로
        const musicFilePath = 'http://www.applesodam.kro.kr/music/NewJeans2ndEP\'GetUp\'/ETA.m4a';
        const lyricsFilePath = 'http://www.applesodam.kro.kr/music/NewJeans2ndEP\'GetUp\'/ETA.srt';

        // 오디오 플레이어 및 앨범아트 요소 선택
        const audioPlayer = document.getElementById('audioPlayer');
        const albumArt = document.getElementById('albumArt');
        const songTitle = document.getElementById('songTitle');
        const artistName = document.getElementById('artistName');
        const lyricsElement = document.getElementById('lyrics');

        // 음악 파일 설정
        audioPlayer.querySelector('source').src = musicFilePath;

        // 메타데이터 로드
        audioPlayer.addEventListener('loadedmetadata', () => {
            const metadata = audioPlayer.textTracks[0];
            albumArt.src = URL.createObjectURL(metadata.cues[0].text);
            songTitle.textContent = metadata.cues[1].text;
            artistName.textContent = metadata.cues[2].text;
        });

        // 가사 파일 로드
        fetch(lyricsFilePath)
            .then(response => response.text())
            .then(lyrics => {
                lyricsElement.textContent = lyrics;
            });
    </script>
</body>
</html>
